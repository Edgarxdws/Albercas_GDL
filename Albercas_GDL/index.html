<!DOCTYPE html>
<html lang="es">
<head>
  <meta name="description" content="Venta de productos qu√≠micos para albercas en Guadalajara. Granulados, pastillas, floculantes, algicidas y m√°s.">
<meta name="keywords" content="qu√≠micos para alberca, tricloro, cloro estabilizado, algicida, alcalinidad, floculante, albercas GDL">

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AlbercasGDL | Mantenimiento y Construcci√≥n de Albercas</title>

<style>
:root{
  --azul-marino:#004080;
  --azul-cielo:#00BFFF;
  --blanco:#FFFFFF;
  --card:#063C6F;
  --card-hover:#085092;
  --suave:.25s ease;
  --radius:18px;
  scroll-behavior:smooth;
}
@media (max-width:768px){
  /* HEADER */
  #logo{height:140px;}
  .cta-wsp{
    top:8px;
    right:8px;
    padding:4px 10px;
    font-size:.75rem;
    border-radius:24px;
    white-space:nowrap;
  }
}          /* ‚Üê 1Ô∏è‚É£  ESTA ES LA LLAVE QUE FALTABA  */

/* si quieres versi√≥n s√∫per compacta en pantallas muy angostas */
@media (max-width:430px){
  .cta-wsp{
    font-size:.7rem;
    padding:3px 8px;
  }
}

/* RESET */
*{box-sizing:border-box;margin:0;padding:0;}
img{display:block;max-width:100%;}
a{text-decoration:none;color:inherit;}
body{
  font-family: "Poppins", Arial, sans-serif;
  background:#04263D;
  color:#fff;
  line-height:1.5;
}

/* FRANJA */
.top-bar{background:var(--azul-cielo);height:18px;}

/* HEADER */
header{
  background:var(--azul-marino);
  position:sticky;top:0;z-index:999;
  box-shadow:0 2px 6px rgba(0,0,0,.35);
}
header .wrap{
  max-width:1200px;margin:auto;
  padding:18px 20px 14px;
  text-align:center;position:relative;
}
.logo-wrap{
  display:flex;justify-content:center;align-items:center;
  margin-bottom:6px;
}
#logo{height:240px;width:auto;}

/* nav */
nav ul{
  list-style:none;display:flex;justify-content:center;gap:22px;flex-wrap:wrap;
  margin-top:6px;
}
nav a{
  font-weight:600;position:relative;padding:4px 2px;
}
nav a::after{
  content:"";position:absolute;left:0;bottom:-4px;height:2px;width:0;
  background:var(--azul-cielo);transition:width var(--suave);
}
nav a:hover::after{width:100%;}

/* CTA header */
header .cta-wsp{
  position:absolute;right:20px;top:32px;
  background:var(--azul-cielo);color:#fff;padding:10px 18px;border-radius:28px;
  font-size:.9rem;font-weight:600;display:flex;align-items:center;gap:6px;
  box-shadow:0 2px 4px rgba(0,0,0,.25);
  transition:transform var(--suave);
}
header .cta-wsp:hover{transform:scale(1.05);}

/* SECCIONES */
section{padding:80px 20px;scroll-margin-top:140px;}
.container{max-width:1200px;margin:auto;}
h1,h2,h3{font-weight:700;line-height:1.2;}
h1{font-size:2.6rem;margin-bottom:18px;text-align:center;}
h2{font-size:2rem;margin-bottom:36px;text-align:center;}
h3{font-size:1.22rem;margin-bottom:10px;text-align:center;}
p{margin-bottom:14px;font-size:1rem;text-align:center;}

.btn{
  display:inline-block;background:var(--azul-cielo);color:#fff;
  padding:14px 26px;border-radius:30px;font-weight:600;
  box-shadow:0 3px 6px rgba(0,0,0,.25);
  transition:transform var(--suave);
}
.btn:hover{transform:translateY(-3px);}

/* HERO */
#inicio{text-align:center;background:var(--azul-marino);padding-top:120px;}
#inicio p{max-width:680px;margin:0 auto 28px;}
.hero-buttons{display:flex;justify-content:center;gap:16px;flex-wrap:wrap;}

/* SERVICIOS */
#servicios .grid{
  display:flex;flex-wrap:wrap;gap:28px;justify-content:center;
}
.card-servicio{
  background:var(--card);padding:32px 26px;border-radius:var(--radius);
  width:280px;text-align:center;
  box-shadow:0 4px 10px rgba(0,0,0,.3);
  transition:background var(--suave), transform var(--suave);
}
.card-servicio:hover{background:var(--card-hover);transform:translateY(-6px);}
.card-servicio .emoji{font-size:2rem;display:block;margin-bottom:12px;}

/* GALER√çA */
#galeria .track{
  display:grid;
  grid-auto-flow:column;
  grid-auto-columns:max-content;
  gap:20px;
  overflow-x:auto;
  padding:10px 0 8px;
  scroll-snap-type:x mandatory;
  -webkit-overflow-scrolling:touch;
}
#galeria .track::-webkit-scrollbar{height:8px;}
#galeria .track::-webkit-scrollbar-thumb{background:var(--azul-cielo);border-radius:8px;}
#galeria figure{margin:0;scroll-snap-align:center;flex:0 0 auto;}
#galeria img{
  height:300px;width:auto;object-fit:cover;border-radius:16px;
  transition:transform .3s ease;
}
#galeria img:hover{transform:scale(1.03);}

/* CONTACTO */
#contacto form{
  max-width:760px;margin:0 auto;display:grid;gap:18px;
}
label{display:block;font-weight:600;margin-bottom:6px;text-align:left;}
input,textarea,select{
  width:100%;padding:14px 16px;border-radius:10px;
  border:2px solid rgba(255,255,255,.15);
  background:rgba(255,255,255,.08);color:#fff;font-size:1rem;
  transition:border var(--suave), background var(--suave);
}
input:focus,textarea:focus,select:focus{
  outline:none;border-color:var(--azul-cielo);
  background:rgba(255,255,255,.12);
}
textarea{min-height:120px;resize:vertical;}
#contacto .btn-enviar{justify-self:center;}

/* CTA FINAL */
#cta-final{
  padding:120px 20px 160px;background:var(--azul-marino);
  text-align:center;position:relative;
}
#wave{position:absolute;top:-1px;left:0;width:100%;height:120px;}
#cta-final h2{margin-bottom:26px;}

/* FOOTER */
footer{
  background:#02131F;padding:40px 20px 60px;
  font-size:.9rem;color:#dbe8ff;text-align:center;
}
footer .social{
  display:flex;justify-content:center;gap:20px;flex-wrap:wrap;margin-bottom:18px;
}
footer .social a{display:flex;align-items:center;gap:6px;font-weight:600;opacity:.9;transition:opacity var(--suave), transform var(--suave);}
footer .social a:hover{opacity:1;transform:translateY(-2px);}

/* WHATSAPP FLOTANTE */
.whatsapp-float{
  position:fixed;
  width:60px;
  height:60px;
  bottom:32px;
  right:28px;
  background:#25D366;  /* CAMBIADO A NEGRO */
  border-radius:50%;
  box-shadow:0 4px 10px rgba(0,0,0,.35);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:34px;
  z-index:9999;
  transition:transform var(--suave);
}
.whatsapp-float:hover{
  transform:scale(1.08);
  background:#1DA851;  /* Negro un poco m√°s claro al hover */
}

/* Para que el √≠cono de WhatsApp sea blanco */
.whatsapp-float img{
  filter: brightness(0) invert(1);  /* Convierte cualquier color a blanco */
}

/* FADES */
[data-fade]{opacity:0;transform:translateY(24px);animation:fadeUp .8s forwards;}
[data-fade="2"]{animation-delay:.15s;}
[data-fade="3"]{animation-delay:.3s;}
[data-fade="4"]{animation-delay:.45s;}
/* ======== AUTO-HIDE HEADER ======== */
header{
  transition:transform .35s ease;
  will-change:transform;
}
header.hide{
  transform:translateY(-100%);
}
@keyframes fadeUp{to{opacity:1;transform:none;}}
/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ RESPONSIVE ‚â§ 768‚ÄØpx ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
@media (max-width:768px){   

  
  nav ul{gap:14px;font-size:.88rem;}

  /* HERO */
  #inicio{padding-top:80px;}          /* menos aire arriba */
  h1{font-size:2rem;}
  .hero-buttons{flex-direction:column;gap:12px;}

  /* SERVICIOS */
  #servicios .grid{
    flex-direction:column;align-items:center;
  }
  .card-servicio{
    width:100%;max-width:340px;
    padding:26px 22px;
  }

  /* GALER√çA */
  #galeria img{height:220px;}         /* un poco m√°s bajita */

  /* CONTACTO */
  #contacto form{gap:14px;}
  label{font-size:.9rem;}
  input,select,textarea{font-size:.9rem;}

  /* CTA FINAL */
  #cta-final{padding:90px 20px 120px;}
  #cta-final h2{font-size:1.6rem;}

  /* FOOTER */
  footer{font-size:.8rem;padding:32px 20px 48px;}
}
/* ‚îÄ‚îÄ‚îÄ fin media query ‚îÄ‚îÄ‚îÄ */

@media (prefers-reduced-motion:reduce){
  *{animation:none!important;transition:none!important;}
}

/* ===== Banner pop-up ===== */
#mxBanner{
  position:fixed;           /* siempre visible */
  bottom:20px; left:50%; transform:translateX(-50%);
  max-width:500px; width:90%;
  background:var(--card); color:#fff;
  border:2px solid var(--azul-cielo);
  border-radius:14px; padding:18px 48px 18px 20px;
  box-shadow:0 4px 14px rgba(0,0,0,.45);
  font-size:.95rem; line-height:1.4;
  z-index:2000;             /* por encima de todo */
}
#mxBanner button{
  position:absolute; top:6px; right:10px;
  background:none; border:none; color:#fff;
  font-size:1.4rem; cursor:pointer;
  transition:transform .25s;
}
#mxBanner button:hover{transform:scale(1.15);}
@media(max-width:480px){
  #mxBanner{font-size:.85rem;padding:16px 42px 16px 18px;}
}

</style>
</head>

<body>

<div class="top-bar"></div>

<header>
  <div class="wrap">
    <div class="logo-wrap">
      <img id="logo" src="img/logo.png" alt="Logo Albercas GDL con escalera y olas azules">
    </div>

    <a href="https://wa.me/3315351832" target="_blank" class="cta-wsp">
  <img src="img/social/whatsapp_navy.svg" alt="WhatsApp" width="20" height="20" style="display:inline-block;vertical-align:middle;margin-right:4px;">
  Cotiza por WhatsApp
</a>

    <nav aria-label="Principal">
      <ul>
        <li><a href="#inicio">Inicio</a></li>
        <li><a href="#servicios">Servicios</a></li>
        <li><a href="#galeria">Galer√≠a</a></li>
        <li><a href="#contacto">Contacto</a></li>
        <li><a href="https://wa.me/3315351832" target="_blank">WhatsApp</a></li>
      </ul>
    </nav>
  </div>
</header>

<!-- HERO -->
<section id="inicio">
  <div class="container" data-fade>
    <h1>L√≠deres en Mantenimiento y Construcci√≥n de Albercas en GDL</h1>
    <p>Soluciones integrales para que tu alberca luzca y funcione como nueva</p>
    <div class="hero-buttons">
      <a href="https://wa.me/3315351832" class="btn" target="_blank">Solicita tu cotizaci√≥n</a>
      <a href="#servicios" class="btn">Ver nuestros servicios</a>
    </div>
  </div>
</section>

<!-- SERVICIOS -->
<section id="servicios">
  <div class="container">
    <h2 data-fade>Servicios que ofrecemos</h2>
    <div class="grid">
      <article class="card-servicio" data-fade="1">
        <span class="emoji">üßº</span>
        <h3>Mantenimiento de albercas</h3>
        <p>Limpieza completa, control de qu√≠micos y m√°s.</p>
      </article>

      <article class="card-servicio" data-fade="2">
        <span class="emoji">üèóÔ∏è</span>
        <h3>Construcci√≥n de albercas</h3>
        <p>Dise√±o y construcci√≥n con concreto lanzado.</p>
      </article>

      <article class="card-servicio" data-fade="3">
        <span class="emoji">üß¥</span>
        <h3>Cambio de arena</h3>
        <p>Reemplazo de arena para un mejor filtrado.</p>
      </article>

      <article class="card-servicio" data-fade="4">
        <span class="emoji">üõ†Ô∏è</span>
        <h3>Reparaciones profesionales</h3>
        <p>Fugas, motores, boquillas, CoolDeck y m√°s.</p>
      </article>

      <article class="card-servicio" data-fade="2">
        <span class="emoji">‚öôÔ∏è</span>
        <h3>Venta de equipos</h3>
        <p>Bombas, filtros y automatizaci√≥n.</p>
      </article>

      <a href="quimicos.html" class="card-servicio" data-fade="3">
  <span class="emoji">üß™</span>
  <h3>Venta de qu√≠micos</h3>
  <p>Productos certificados como Klaren y Bluequim.</p>
</a>

      <a href="capacitaciones.html" class="card-servicio" data-fade="4">
        <span class="emoji">üìö</span>
        <h3>Capacitaciones</h3>
        <p>Cursos 100‚ÄØ% pr√°cticos para operar y mantener tu alberca como un profesional.</p>
      </a>
    </div>
  </div>
</section>

<!-- GALER√çA -->
<section id="galeria">
  <div class="container">
    <h2 data-fade>Galer√≠a de clientes satisfechos</h2>

    <div class="track" data-fade="2" aria-label="Galer√≠a horizontal de im√°genes">
      <figure><img src="img/galeria1.JPEG" alt="Trabajo 1 Albercas GDL"></figure>
      <figure><img src="img/galeria2.JPEG" alt="Trabajo 2 Albercas GDL"></figure>
      <figure><img src="img/galeria3.JPEG" alt="Trabajo 3 Albercas GDL"></figure>
      <figure><img src="img/galeria4.JPEG" alt="Trabajo 4 Albercas GDL"></figure>
      <figure><img src="img/galeria5.JPEG" alt="Trabajo 5 Albercas GDL"></figure>
      <figure><img src="img/galeria6.JPEG" alt="Trabajo 6 Albercas GDL"></figure>
      <figure><img src="img/galeria7.JPEG" alt="Trabajo 7 Albercas GDL"></figure>
    </div>
  </div>
</section>

<!-- CONTACTO -->
<section id="contacto">
  <div class="container">
    <h2 data-fade>Cont√°ctanos</h2>
    <form id="contactForm" data-fade="2">
      <div>
        <label for="nombre">üßç Nombre</label>
        <input type="text" id="nombre" name="Nombre" required placeholder="Tu nombre completo">
      </div>
      <div>
      <label for="telefono">
  <img src="img/social/whatsapp_navy.svg" alt="WhatsApp" width="16" height="16" style="display:inline-block;vertical-align:middle;margin-right:4px;">
  Tel√©fono / WhatsApp
</label>
        <input type="tel" id="telefono" name="Telefono" required placeholder="Ej. 331 000 0000">
      </div>
      <div>
        <label for="servicio">üõ†Ô∏è Servicio que necesita</label>
        <select id="servicio" name="Servicio">
          <option value="Mantenimiento">Mantenimiento de alberca</option>
          <option value="Construccion">Construcci√≥n de alberca</option>
          <option value="Cambio de arena">Cambio de arena</option>
          <option value="Reparaciones">Reparaciones profesionales</option>
          <option value="Venta equipos">Venta de equipos</option>
          <option value="Venta quimicos">Venta de qu√≠micos</option>
          <option value="Otro">Otro</option>
        </select>
      </div>
      <div>
        <label for="mensaje">‚úâÔ∏è Mensaje</label>
        <textarea id="mensaje" name="Mensaje" placeholder="Cu√©ntanos brevemente qu√© necesitas"></textarea>
      </div>
      <button type="submit" class="btn btn-enviar">Enviar mensaje</button>
    </form>
  </div>
</section>

<!-- CTA FINAL -->
<section id="cta-final">
  <svg id="wave" viewBox="0 0 1440 320" preserveAspectRatio="none">
    <path fill="#00BFFF" d="M0,64L48,80C96,96,192,128,288,133.3C384,139,480,117,576,117.3C672,117,768,139,864,165.3C960,192,1056,224,1152,213.3C1248,203,1344,149,1392,122.7L1440,96V0H0Z"/>
  </svg>
  <div class="container" data-fade="2">
    <h2>¬øListo para que tu alberca luzca como nueva?</h2>
    <a href="https://wa.me/3315351832" target="_blank" class="btn">Cont√°ctanos por WhatsApp</a>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="social">
    <a href="https://www.instagram.com/albercasgdl_jrh?igsh=dXg3YW4xbXNtc2tp&utm_source=qr">
      <img src="img/social/instagram.svg" alt="Instagram" width="20" height="20"> Instagram
    </a>
    <a href="https://www.facebook.com/share/172vVMEHui/?mibextid=wwXIfr">
      <img src="img/social/facebook.svg" alt="Facebook" width="20" height="20"> Facebook
    </a>
    <a href="https://www.tiktok.com/@albercasgdl?_t=ZS-8yOKGw2k0q9&_r=1">
      <img src="img/social/tiktok.svg" alt="TikTok" width="20" height="20"> TikTok
    </a>
    <a href="https://wa.me/3315351832" target="_blank">
      <img src="img/social/whatsapp.svg" alt="WhatsApp" width="20" height="20"> WhatsApp
    </a>
  </div>

<!-- BOT√ìN WSP -->
<a href="https://wa.me/3315351832" class="whatsapp-float" target="_blank" aria-label="Abrir chat de WhatsApp">
  <img src="img/social/whatsapp.svg" alt="WhatsApp" width="34" height="34">
</a>
<script>
(function(){
  const header = document.querySelector('header');
  let lastY = 0;
  const delta   = 10;   // ignora micro movimientos
  const trigger = 150;  // px de scroll antes de ocultar

  window.addEventListener('scroll', () => {
    const y = window.scrollY;
    if (Math.abs(y - lastY) <= delta) return;

    if (y > lastY && y > trigger) {
      header.classList.add('hide');    // bajando -> ocultar
    } else {
      header.classList.remove('hide'); // subiendo -> mostrar
    }
    lastY = y;
  }, { passive:true });
})();
</script>

<!-- Banner ‚Äúsolo entregas en M√©xico‚Äù -->
<div id="mxBanner" style="display:none">
  ‚úàÔ∏è <strong>Env√≠os solo dentro de M√©xico.</strong><br>
  Si te encuentras en otro pa√≠s, escr√≠benos para cotizar opciones especiales.
  <button aria-label="Cerrar banner">&times;</button>
</div>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const banner = document.getElementById('mxBanner');
  const btn    = banner.querySelector('button');

  // 1Ô∏è‚É£  ¬øya lo cerr√≥ este visitante?
  if(!localStorage.getItem('mxBannerDismissed')){
    banner.style.display='block';          // mu√©stralo
  }

  // 2Ô∏è‚É£  Al cerrar, ocultamos y guardamos preferencia
  btn.addEventListener('click', () => {
    banner.style.display='none';
    localStorage.setItem('mxBannerDismissed','yes');
  });
});
</script>
<script>
document.getElementById('contactForm').addEventListener('submit', function(e) {
  e.preventDefault();
  
  const nombre = document.getElementById('nombre').value;
  const telefono = document.getElementById('telefono').value;
  const servicio = document.getElementById('servicio').value;
  const mensaje = document.getElementById('mensaje').value;
  
  const textoWhatsApp = `*Nueva consulta desde la web*%0A%0A` +
    `*Nombre:* ${nombre}%0A` +
    `*Tel√©fono:* ${telefono}%0A` +
    `*Servicio:* ${servicio}%0A` +
    `*Mensaje:* ${mensaje}`;
  
  window.open(`https://wa.me/523315351832?text=${textoWhatsApp}`, '_blank');
  
  // Limpiar formulario
  this.reset();
  alert('Tu mensaje se enviar√° por WhatsApp. Se abrir√° una nueva ventana.');
});
</script>
<script>
// ============ PARTE 1: CONFIGURACI√ìN DE SELECTORES ============
// Para qu√© sirve: Hace que los botones de PayPal cambien seg√∫n el tama√±o elegido
document.addEventListener('DOMContentLoaded', function() {
    function configurarSelectoresPayPal() {
        const selectores = document.querySelectorAll('.sel-pres');
        
        selectores.forEach(function(selector) {
            const contenedor = selector.closest('.card-prod');
            if (!contenedor) return;
            
            const botonPago = contenedor.querySelector('.btn-pay');
            if (!botonPago) return;
            
            function actualizarLink() {
                const opcionSeleccionada = selector.options[selector.selectedIndex];
                const linkPayPal = opcionSeleccionada.getAttribute('data-pay');
                
                if (linkPayPal) {
                    if (linkPayPal.startsWith('https://')) {
                        botonPago.href = linkPayPal;
                    } else {
                        botonPago.href = `https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=${linkPayPal}`;
                    }
                }
            }
            
            actualizarLink();
            selector.addEventListener('change', actualizarLink);
        });
    }
    
    configurarSelectoresPayPal();
});

// ============ PARTE 2: PROTECCI√ìN CONTRA INSPECCI√ìN ============
// Para qu√© sirve: Evita que copien f√°cilmente tus precios con F12
document.addEventListener('keydown', function(e) {
    // Bloquear F12, Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+U
    if(e.keyCode === 123 || 
       (e.ctrlKey && e.shiftKey && (e.keyCode === 73 || e.keyCode === 74)) ||
       (e.ctrlKey && e.keyCode === 85)) {
        e.preventDefault();
        return false;
    }
});

// Deshabilitar clic derecho SOLO en las tarjetas de productos
document.querySelectorAll('.card-prod').forEach(card => {
    card.addEventListener('contextmenu', e => {
        e.preventDefault();
        alert('Por favor usa el bot√≥n de PayPal para comprar');
        return false;
    });
});

// ============ PARTE 3: ANTI-BOTS B√ÅSICO ============
// Para qu√© sirve: Esconde botones de pago hasta verificar que es humano
let clicksReales = 0;

// Contar movimientos del mouse (los bots no mueven el mouse)
document.addEventListener('mousemove', function() {
    clicksReales++;
});

// Ocultar botones inicialmente y mostrar despu√©s de verificar
document.querySelectorAll('.btn-pay').forEach(btn => {
    btn.style.opacity = '0.3';
    btn.style.pointerEvents = 'none';
    
    setTimeout(() => {
        if(clicksReales > 3) { // Si movi√≥ el mouse m√°s de 3 veces
            btn.style.opacity = '1';
            btn.style.pointerEvents = 'auto';
        }
    }, 1500); // Espera 1.5 segundos
});

// ============ PARTE 4: PREVENIR SPAM DE COMPRAS ============
// Para qu√© sirve: Evita que alguien haga clic 100 veces seguidas
let intentosPago = {};

document.querySelectorAll('.btn-pay').forEach(btn => {
    btn.addEventListener('click', function(e) {
        const card = this.closest('.card-prod');
        const producto = card.querySelector('h3').textContent;
        const select = card.querySelector('.sel-pres');
        const presentacion = select.options[select.selectedIndex].text;
        const ahora = Date.now();
        
        // Verificar si ya intent√≥ comprar esto hace menos de 5 segundos
        if(intentosPago[producto] && (ahora - intentosPago[producto] < 5000)) {
            e.preventDefault();
            alert('Por favor espera 5 segundos antes de intentar de nuevo');
            return false;
        }
        
        intentosPago[producto] = ahora;
        
        // ============ PARTE 5: GUARDAR REGISTRO DE COMPRAS ============
        // Para qu√© sirve: Backup por si PayPal falla o cliente dice que pag√≥
        const pedido = {
            producto: producto,
            presentacion: presentacion,
            fecha: new Date().toLocaleString(),
            navegador: navigator.userAgent.substring(0, 50)
        };
        
        // Guardar en navegador
        localStorage.setItem('ultimaCompra', JSON.stringify(pedido));
        
        // Guardar historial (m√°ximo 50 intentos)
        let historial = JSON.parse(localStorage.getItem('historialCompras') || '[]');
        historial.unshift(pedido);
        if(historial.length > 50) historial = historial.slice(0, 50);
        localStorage.setItem('historialCompras', JSON.stringify(historial));
        
        console.log('‚úÖ Intento de compra registrado:', producto, presentacion);
    });
});

// ============ PARTE 6: BOT√ìN DE EMERGENCIA ============
// Para qu√© sirve: Si PayPal falla, el cliente puede confirmar por WhatsApp
window.addEventListener('load', function() {
    // Verificar si hay compras pendientes sin confirmar
    const ultimaCompra = localStorage.getItem('ultimaCompra');
    if(ultimaCompra) {
        const compra = JSON.parse(ultimaCompra);
        // Si la compra fue hace menos de 1 hora
        const hace1Hora = Date.now() - 3600000;
        const fechaCompra = new Date(compra.fecha).getTime();
        
        if(fechaCompra > hace1Hora) {
            // Crear bot√≥n flotante de confirmaci√≥n
            const botonConfirmar = document.createElement('div');
            botonConfirmar.innerHTML = `
                <div style="position:fixed; bottom:100px; right:20px; background:#25D366; 
                            padding:15px; border-radius:10px; cursor:pointer; z-index:9998;
                            box-shadow:0 4px 10px rgba(0,0,0,0.3);">
                    <a href="https://wa.me/523315351832?text=Acabo%20de%20comprar%20${encodeURIComponent(compra.producto)}%20${encodeURIComponent(compra.presentacion)}"
                       target="_blank" style="color:white; font-weight:bold;">
                       ‚úÖ Confirmar pedido por WhatsApp
                    </a>
                </div>
            `;
            document.body.appendChild(botonConfirmar);
            
            // Quitar despu√©s de 30 segundos
            setTimeout(() => botonConfirmar.remove(), 30000);
        }
    }
});
</script>
</body>
</html>
